#!/usr/bin/env bash

# /!\ Warning
# This file is generated by Kriollo, do not edit it manually 

last_edited_file=$(ls -lt | grep -e 'Kriollo.kt' -e 'kriollo.jar' | head -n 1 | sed 's/.*\([Kk]riollo.[\(jar\)|\(kt\)]\)/\1/g')
if [[ "${last_edited_file}" == "Kriollo.kt" ]]
then
  echo "Building jar"
  kotlinc Kriollo.kt -include-runtime -d kriollo.jar
  if [[ $? > 0 ]]
  then
    echo "Build failed"
    exit 1
  else
    echo "Build successful"
  fi
fi

kotlin -classpath kriollo.jar KriolloKt $*